# 다음 세션 작업 계획

> 생성일: 2026-02-12 00:30  
> 단계: Phase 4. 전체 파이프라인 검증 및 고도화

---

## 🎯 **다음 세션 목표**

**Phase 4: 정밀 검증 및 고도화**
1. **복합 시나리오 검증**: 사진 한 장에 담긴 날씨, 감정, 객체를 동시 분석하여 추천 결과의 일관성 확인
2. **신학적 필터링 강화**: 정본 MD 9장 가이드라인에 따른 부적절한 조합 차단 로직 실전 테스트
3. **UX 디테일 개선**: 추천 구절의 설명 문구 및 대안 구절 노출 방식 정교화

**예상 소요 시간**: 4-6시간

---

## ✅ **현재까지 완료된 것 (Phase 1~3 완료)**

### **Phase 1-2: 기본 및 데이터 품질 (100%)**
- ✅ 데이터 로딩 및 S1-S4 엔진 정상화
- ✅ 정본 MD 신학적 안전 규칙 반영 (`theological_safety_rules.json`)
- ✅ 상징-주제 매핑 동기화

### **Phase 3: AI 및 통합 (100%)**
- ✅ **Vision AI 풀스택**: YOLOv8, CLIP, MobileNetV2, EasyOCR 통합 완료
- ✅ **Weather Intelligence**: 기상 조건(눈, 비, 무지개 등) 인식 및 신학적 매핑 완료
- ✅ **성능 최적화**: Smart OCR 및 전구간 캐싱 적용 완료
- ✅ **대시보드 통합**: 실제 이미지 업로드 → 분석 → 추천 파이프라인 완성

---

## 🚀 **다음 세션 작업 순서**

### **1단계: 시나리오별 정밀 튜닝 (2시간)**
- 테스트용 복합 이미지(예: 비오는 날의 우울한 인물)로 AI 분석 결과 체크
- `topic_weights_v1.csv` 가중치 미세 조정 (날씨와 감정의 우선순위 밸런스)
- 추천 결과의 "왜 이 구절인가" 설명 로직 점검

### **2단계: 정본 MD 9장 기준 필터링 강화 (2시간)**
- 금지 조합(병상+심판 등)이 AI 분석 결과에서도 철저히 차단되는지 확인
- `ImagePipeline` 내 `check_guideline_filter` 로직 고도화

### **3단계: 최종 빌드 및 정리 (1시간)**
- 코드 리팩토링 및 불필요한 테스트 파일 정리
- 모바일 브라우저 최적화 상태 최종 점검

---

## 📝 **다음 세션 시작 시 할 일**

### **1. 체크리스트 확인**
```
"체크리스트 보여줘" (.agent/workflows/checklist.md)
```

### **2. 오늘 작업 결과 확인**
```
"지난 세션의 AI 통합 결과를 브리핑해줘"
```

### **3. 복합 테스트 시작**
```
"날씨와 감정이 섞인 복합 시나리오 테스트 시작"
```

---

## 💬 **다음 세션 시작 시동어 (Startup Command)**

```
/session-start "Phase 3 AI 통합이 완료되었습니다. 이제 Phase 4 정밀 검증 및 정본 MD 가이드라인에 따른 필터링 고도화 작업을 시작하겠습니다. 지난 세션의 기상 지능(Weather Intelligence) 성과를 바탕으로 복합 시나리오 테스트부터 진행해 주세요."
```
