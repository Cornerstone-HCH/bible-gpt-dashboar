---
description: 바이블GPT 대시보드 개발 로드맵
---

# 바이블GPT 대시보드 개발 로드맵

## ✅ Phase 1: 기본 검증 (완료)
**목표**: 파이프라인이 작동하는지 확인

- [x] 데이터 로딩 구조 파악
- [x] 주제명 불일치 문제 해결 (topic_symbol_mapping.csv 수정)
- [x] 대시보드 실행 및 SIM-01 시나리오 테스트
- [x] S1 점수 계산 정상화 확인

**결과**: 
- 파이프라인 작동 확인 ✓
- 데이터 품질 이슈 발견 (회개 주제 과다 노출 등)

---

## 🔄 Phase 2: 데이터 품질 개선 (다음 단계)
**목표**: 정본 MD의 신학적 안전 규칙을 데이터에 반영

### 2.1 데이터 감사 및 문서화
- [ ] `topic_symbol_mapping.csv` 전체 검토
  - 각 주제별 상징 매핑이 정본 MD 2.3.5 민감 주제 처리 원칙과 일치하는지 확인
  - 특히 "어둠", "밤", "침대", "병상" 등 민감 상징 재매핑
- [ ] `topic_weights_v1.csv` 데이터 완성도 점검
  - 누락된 가중치 데이터 식별 (현재 '침대', '어둠' 등 누락)
  - 120개 피사체 × 24개 주제 매트릭스 완성도 확인
- [ ] `verse_bank_24topics_ko_seed_v1.csv` 검토
  - 각 주제별 구절 분포 확인
  - 민감 주제(회개, 심판/경고 등) 구절 수 파악

### 2.2 신학적 안전 규칙 데이터화
- [ ] 정본 MD 1.9 지양점 → 금지 조합 테이블 생성
  - 예: "병원 + 자정 + 침대" → "회개" 주제 억제
  - 예: "재난 사진" → "심판/경고" 주제 억제
- [ ] 정본 MD 2.3.5 민감 주제 처리 원칙 → 컨텍스트 보정 규칙 생성
  - 시간대별 주제 가중치 조정 테이블
  - 장소별 주제 가중치 조정 테이블
- [ ] S3 신학적 정합도 점수 로직 개선
  - 현재: 단순 safe_themes/risky_themes 체크
  - 개선: 정본 MD 기준 세밀한 점수 산정

### 2.3 데이터 수정 및 검증
- [ ] `topic_symbol_mapping.csv` 수정
  - '어둠' → '평강·샬롬' 또는 '보호·인도'로 재매핑
  - 기타 민감 상징 재검토
- [ ] `topic_weights_v1.csv` 보완
  - 누락된 가중치 데이터 채우기
  - 신학 자문 기반 가중치 조정
- [ ] 수정 후 SIM-01 재테스트
  - 회개 대신 위로/평강 계열 구절이 나오는지 확인

**예상 소요**: 2-3일

---

## 🎨 Phase 3: UX/UI 개선
**목표**: 사용자 경험 향상

- [ ] 대시보드 레이아웃 개선
  - 추천 결과 시각화 강화
  - 점수 설명 추가 (왜 이 점수가 나왔는지)
- [ ] 시나리오 프리셋 추가
  - SIM-02, SIM-03 등 추가 시나리오 버튼
- [ ] 데이터 탐색 기능
  - 주제별 구절 브라우징
  - 상징별 주제 매핑 시각화

**예상 소요**: 1-2일

---

## 🧪 Phase 4: 테스트 및 검증
**목표**: 다양한 시나리오에서 품질 확인

- [ ] 정본 MD 4장 사용자 시나리오 기반 테스트 케이스 작성
- [ ] 각 시나리오별 기대 결과 정의
- [ ] 자동화 테스트 스크립트 작성
- [ ] 신학 자문단 리뷰 준비

**예상 소요**: 2-3일

---

## 🚀 Phase 5: 프로덕션 준비
**목표**: 실제 앱 통합 준비

- [ ] API 엔드포인트 설계
- [ ] 성능 최적화 (p95 < 800ms 목표)
- [ ] 에러 핸들링 강화
- [ ] 로깅 및 모니터링 설정

**예상 소요**: 3-5일

---

## 📊 현재 진행 상황

```
Phase 1 (기본 검증)     ████████████████████ 100%
Phase 2 (데이터 품질)   ░░░░░░░░░░░░░░░░░░░░   0%
Phase 3 (UX/UI)         ░░░░░░░░░░░░░░░░░░░░   0%
Phase 4 (테스트)        ░░░░░░░░░░░░░░░░░░░░   0%
Phase 5 (프로덕션)      ░░░░░░░░░░░░░░░░░░░░   0%
```

---

## 🎯 다음 작업

**우선순위 1**: Phase 2.1 - 데이터 감사 및 문서화 시작
- 먼저 전체 데이터 현황을 파악하고 문제점을 체계적으로 정리
- 그 다음 한 번에 수정하는 것이 효율적

**우선순위 2**: Phase 2.2 - 신학적 안전 규칙 데이터화
- 정본 MD의 규칙을 코드/데이터로 변환

**우선순위 3**: Phase 2.3 - 데이터 수정 및 검증
- 실제 수정 작업 진행

---

## 📝 메모

### 발견된 이슈
1. **주제명 불일치** (해결 완료)
   - topic_symbol_mapping.csv와 config.py 간 주제명 불일치
   - fix_topic_mapping.py로 해결

2. **데이터 품질 문제** (Phase 2에서 해결 예정)
   - '어둠' → '회개' 매핑이 정본 MD 원칙과 불일치
   - topic_weights_v1.csv에 누락된 가중치 다수
   - 민감 상황에서 부적절한 주제 추천 가능성

3. **로직 개선 필요** (Phase 2-3에서 해결 예정)
   - S3 신학적 정합도 점수 로직 단순함
   - 컨텍스트 보정(P3) 규칙이 하드코딩되어 있음
   - 금지 조합 체크 로직 미흡
