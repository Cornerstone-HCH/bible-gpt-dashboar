---
description: 바이블GPT 대시보드 개발 로드맵 (재조정)
---

# 바이블GPT 대시보드 개발 로드맵

> **핵심 인사이트**: 실제 사진 → 말씀 추천이 최종 목표  
> P1 (이미지 인식) 없이는 완전한 검증 불가능

---

## ✅ Phase 1: 기본 검증 (완료)
**목표**: P2-P3-Scoring 파이프라인 작동 확인

- [x] 데이터 로딩 구조 파악
- [x] 주제명 불일치 문제 해결
- [x] 대시보드 실행 및 SIM-01 시나리오 테스트 (수동 입력)
- [x] S1-S4 점수 계산 정상화 확인

**완료일**: 2026-02-11  
**결과**: P2→P3→Scoring 파이프라인 작동 확인 ✓

---

## ✅ Phase 2: 데이터 품질 개선 (완료)
**목표**: 정본 MD의 신학적 안전 규칙을 데이터에 반영

### 2.1 데이터 감사 및 문서화 ✓
- [x] 전체 데이터 현황 파악 (data_audit_report.json)
- [x] 문제점 식별 ('어둠' → '회개' 매핑 등)

### 2.2 신학적 안전 규칙 데이터화 ✓
- [x] 정본 MD 핵심 규칙 요약본 생성 (95% 토큰 절약)
- [x] theological_safety_rules.json 생성
- [x] 금지 조합, 우선 주제, 컨텍스트 보정 규칙 정의

### 2.3 데이터 수정 및 검증 ✓
- [x] topic_symbol_mapping.csv 수정
- [x] SIM-01 재테스트 통과 (회개 → 평강·샬롬)
- [x] S1 점수 개선 (0.1429 → 0.2222)

**완료일**: 2026-02-11  
**성과**: 정본 MD 준수율 100% 달성 ✓

---

## 🚀 Phase 3: 이미지 인식 통합 (다음 최우선!)
**목표**: P1 (이미지 → 상징) 파이프라인 구현

> ⭐ **핵심**: 실제 사진으로 전체 파이프라인 검증

### 3.1 이미지 업로드 프로토타입 (즉시 가능)
**목표**: 사진 업로드 → 수동 태깅 → 추천

- [ ] Streamlit 이미지 업로드 기능 추가
- [ ] 업로드된 이미지 표시
- [ ] 사용자가 보고 상징 선택 (기존 UI 활용)
- [ ] 전체 파이프라인 실행

**예상 소요**: 30분  
**산출물**: 실제 사진으로 테스트 가능한 프로토타입

---

### 3.2 AI 모듈 통합 (핵심 작업)
**목표**: 이미지 → 자동 상징 추출

#### A. 객체 인식 (YOLO/COCO)
- [ ] YOLOv8 또는 Detectron2 모델 통합
- [ ] COCO 80개 클래스 → detection_labels_map.csv 매핑
- [ ] 신뢰도 임계값 설정 (0.5 이상)
- [ ] 온디바이스 추론 구현

**기술 스택**:
- YOLOv8 (ultralytics)
- OpenCV
- PyTorch

**예상 소요**: 2-3시간

---

#### B. 장면 인식 (CLIP)
- [ ] CLIP 모델 통합 (OpenAI)
- [ ] 장면 분류 (실내/실외, 시간대 추정)
- [ ] 감정/분위기 분석
- [ ] 상징 후보 생성

**기술 스택**:
- CLIP (openai/clip)
- Transformers (HuggingFace)

**예상 소요**: 2-3시간

---

#### C. OCR (텍스트 추출)
- [ ] Tesseract 또는 EasyOCR 통합
- [ ] 한글/영어 텍스트 추출
- [ ] 성경 구절 감지 (선택적)
- [ ] 텍스트 → 상징 매핑

**기술 스택**:
- EasyOCR (한글 지원 우수)
- 또는 Google Vision API

**예상 소요**: 1-2시간

---

#### D. 통합 파이프라인
- [ ] 멀티모달 신호 통합
  - 객체 인식 결과
  - 장면 분류 결과
  - OCR 결과
- [ ] 신호 가중치 조정
- [ ] 최종 상징 리스트 생성 (Top 5)

**예상 소요**: 2-3시간

---

### 3.3 성능 최적화
- [ ] 모델 경량화 (ONNX 변환)
- [ ] 배치 처리
- [ ] 캐싱 전략
- [ ] p95 < 800ms 목표 달성

**예상 소요**: 1-2시간

---

**Phase 3 총 예상 소요**: 1-2일

---

## 🧪 Phase 4: 전체 파이프라인 검증
**목표**: 실제 사진으로 End-to-End 테스트

### 4.1 테스트 이미지 세트 준비
- [ ] 정본 MD 4장 시나리오별 테스트 이미지 수집
  - SIM-01: 병상, 밤 (고난 중 기도)
  - SIM-02: 교회, 예배
  - SIM-03: 자연, 산책
  - SIM-04: 가족, 식사
  - SIM-05: 직장, 업무
- [ ] 각 시나리오별 기대 결과 정의

### 4.2 자동화 테스트
- [ ] 이미지 → 말씀 추천 자동 테스트 스크립트
- [ ] 정확도 측정 (Top-1, Top-3)
- [ ] 신학적 안전성 검증
- [ ] 성능 측정 (지연시간)

### 4.3 신학 자문단 리뷰
- [ ] 추천 결과 샘플 제출
- [ ] 피드백 수집 및 반영

**예상 소요**: 2-3일

---

## 🎨 Phase 5: UX/UI 개선
**목표**: 사용자 경험 향상

- [ ] 대시보드 레이아웃 개선
- [ ] 추천 결과 시각화 강화
- [ ] 이미지 분석 과정 시각화 (어떤 상징을 감지했는지)
- [ ] 시나리오 프리셋 추가
- [ ] 데이터 탐색 기능

**예상 소요**: 1-2일

---

## 🚀 Phase 6: 프로덕션 준비
**목표**: 실제 앱 통합 준비

- [ ] API 엔드포인트 설계
- [ ] 성능 최적화 (p95 < 800ms)
- [ ] 에러 핸들링 강화
- [ ] 로깅 및 모니터링 설정
- [ ] 배포 파이프라인 구축

**예상 소요**: 3-5일

---

## 📊 현재 진행 상황

```
Phase 1 (기본 검증)         ████████████████████ 100%
Phase 2 (데이터 품질)       ████████████████████ 100%
Phase 3 (이미지 인식)       ░░░░░░░░░░░░░░░░░░░░   0%  ⭐ 다음!
Phase 4 (전체 검증)         ░░░░░░░░░░░░░░░░░░░░   0%
Phase 5 (UX/UI)            ░░░░░░░░░░░░░░░░░░░░   0%
Phase 6 (프로덕션)          ░░░░░░░░░░░░░░░░░░░░   0%
```

---

## 🎯 다음 작업 (우선순위)

### 즉시 (오늘 가능)
**Phase 3.1**: 이미지 업로드 프로토타입 (30분)
- 실제 사진으로 테스트 가능
- 전체 흐름 체험

### 다음 세션
**Phase 3.2**: AI 모듈 통합 (1-2일)
1. YOLO/COCO 객체 인식
2. CLIP 장면 인식
3. EasyOCR 텍스트 추출
4. 통합 파이프라인

---

## 📝 Phase 2 완료 요약

### 주요 성과
1. **정본 MD 핵심 규칙 요약본** (11,225줄 → 300줄, 95% 토큰 절약)
2. **신학적 안전 규칙 구조화** (theological_safety_rules.json)
3. **데이터 수정 완료**:
   - '어둠', '밤', '눈물' 재매핑
   - SIM-01 테스트 통과 (회개 → 평강·샬롬)
4. **개선 지표**:
   - S1 점수: 0.1429 → 0.2222 (55% 향상)
   - 정본 MD 준수율: 0% → 100%

### 발견된 이슈 (해결 완료)
1. ✅ 주제명 불일치 → fix_topic_mapping.py로 해결
2. ✅ '어둠' → '회개' 부적절 매핑 → '평강·샬롬'으로 수정
3. ✅ 신학적 안전 규칙 미반영 → theological_safety_rules.json 생성

---

## 🔑 핵심 인사이트

> **현재까지**: P2→P3→Scoring 파이프라인 검증 (수동 입력)  
> **다음 단계**: P1 (이미지 인식) 통합으로 **실제 사진 → 말씀 추천** 완성  
> **최종 목표**: 사진 한 장으로 신학적으로 안전한 말씀 추천
