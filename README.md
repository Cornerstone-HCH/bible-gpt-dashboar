# 바이블GPT AI 추천 로직 검증 대시보드

## 개요
기획서 **'0211_바이블GPT통합본_v1.4_14.md'**의 **9장(AI 로직)**과 **13장(데이터 스키마)**를 기반으로 구현된 Interactive Streamlit 대시보드입니다.

## 주요 기능

### 1. P1~P3 파이프라인 시뮬레이션
- **P1 (상징 매핑)**: 이미지 태그 → 120개 상징 라벨
- **P2 (신학적 주제 매핑)**: 상징 → 24개 신학적 주제
- **P3 (컨텍스트 보정)**: 시간대/장소로 주제 점수 조정

### 2. Scoring Engine (S1~S4)
- **S1**: 이미지 관련도 점수
- **S2**: 컨텍스트 적합도 점수
- **S3**: 신학적 정합도 점수 (예장통합 교리 기준)
- **S4**: 페널티 점수 (민감한 조합 감지)
- **가중치**: 사용자가 슬라이더로 조절 가능 (기본값 40:20:20:20)

### 3. 가이드라인 엔진
- 부적절한 입력 감지 (기복 신앙, 저주, 점괘식 등)
- 경고 문구 표시
- 추천 차단 로직

### 4. 시각화
- 추천 구절 카드 형태 표시
- S1~S4 점수 합산 과정 막대그래프
- 투명성 확보를 위한 점수 상세 테이블

## 설치 및 실행

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. 대시보드 실행
```bash
streamlit run bible_gpt_dashboard.py
```

### 3. 브라우저 접속
자동으로 브라우저가 열리며, 기본 주소는 `http://localhost:8501`입니다.

## 사용 방법

### 기본 시나리오 (SIM-01) 테스트
1. 왼쪽 사이드바에서 **"SIM-01 로드"** 버튼 클릭
2. 자동으로 다음 설정이 로드됩니다:
   - 이미지 상징: 병상, 밤
   - 시간대: 자정
   - 장소: 병원
3. **"말씀 추천 실행"** 버튼 클릭
4. 추천 결과 확인

### 커스텀 시나리오 테스트
1. **이미지 상징**: 최대 5개 선택
2. **시간대**: 새벽/아침/낮/저녁/밤/자정 중 선택
3. **장소**: 집/교회/병원/학교/직장 등 선택
4. **추가 입력** (선택): 가이드라인 필터 테스트용
5. **"말씀 추천 실행"** 버튼 클릭

### 가중치 조절
- 왼쪽 사이드바의 슬라이더로 S1~S4 가중치 조절
- 실시간으로 추천 결과에 반영됨

## 주요 화면

### 입력 설정
- 이미지 상징 선택 (멀티셀렉트)
- 시간대 선택 (드롭다운)
- 장소 선택 (드롭다운)
- 추가 입력 (텍스트)

### 추천 결과
- Top 3 추천 구절 카드
- 각 구절별 점수 상세 (막대그래프 + 테이블)
- 총점 및 가중 점수 표시

### 파이프라인 설명
- P1~P3 및 Scoring Engine 단계별 설명
- 입력/출력 정보 표시

## 기술 스택
- **Python 3.8+**
- **Streamlit**: 대시보드 프레임워크
- **Pandas**: 데이터 처리
- **Plotly**: 인터랙티브 차트
- **NumPy**: 수치 계산

## 데이터 구조

### 상징 라벨 (120개 중 대표)
- 자연_지형: 산, 바다, 하늘 등
- 자연_천체: 해, 달, 별 등
- 생명_식물: 나무, 꽃 등
- 인공물_건축: 집, 성전, 교회 등

### 신학적 주제 (24개)
- 창조/섭리, 소명/순종, 죄/회개, 구원/복음
- 사랑/긍휼, 공의/정의, 지혜/훈련, 위로/평강
- 인도/소망, 공동체/연합, 예배/감사, 선교/증언
- 보호/피난처, 치유/회복, 인내/시련, 영광/찬송
- 겸손/섬김, 용서/화해, 기쁨/감격, 신뢰/의지
- 거룩/성화, 심판/경고, 약속/성취, 영생/천국

### 가상 성경 구절 DB
- 시편 23:1, 46:1, 121:2, 34:18
- 요한복음 14:27
- 마태복음 11:28
- 이사야 40:31
- 로마서 8:28

## 가이드라인 필터
다음 패턴이 감지되면 경고 표시:
- **기복신앙**: 복권, 로또, 대박, 부자, 돈
- **저주/혐오**: 저주, 죽어라, 망해라, 증오
- **점괘식**: 운세, 점, 미래예측, 당첨
- **극단해석**: 무조건, 반드시, 100%

## 향후 개선 사항
- [ ] 실제 Perception 모듈 연동
- [ ] 120개 전체 상징 라벨 추가
- [ ] 더 많은 성경 구절 DB 확장
- [ ] 상징-주제 매핑 매트릭스 정교화
- [ ] 사용자 피드백 수집 기능
- [ ] 추천 이력 저장 및 분석

## 라이선스
이 프로젝트는 바이블GPT 기획서를 기반으로 한 검증 도구입니다.

## 문의
프로젝트 관련 문의사항은 이슈로 등록해주세요.
